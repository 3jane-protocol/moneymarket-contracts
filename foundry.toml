[profile.default]
libs = ["lib"]
names = true
sizes = true
via_ir = true
optimizer = true
optimizer_runs = 999999
bytecode_hash = "none"
evm_version = "shanghai"

[profile.default.invariant]
runs = 16
depth = 256
fail_on_revert = true

[profile.default.fmt]
wrap_comments = true


[profile.build]
test = "/dev/null"
script = "/dev/null"


[profile.script]
# Inherits from default profile but excludes tests for faster compilation
test = "/dev/null"
# Keep all the metadata needed for OpenZeppelin Upgrades
ffi = true
ast = true
# Allow file system access for deployment tracking
fs_permissions = [
  { access = "read-write", path = "./deployments" },
  { access = "read-write", path = "./out" },
  { access = "read", path = "./data" },
]
build_info = true
extra_output = ["storageLayout"]


[profile.test]
via-ir = false


# See more config options https://github.com/foundry-rs/foundry/tree/master/crates/config
